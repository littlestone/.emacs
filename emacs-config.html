<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Emacs Configuration</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Emacs Configuration"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-02-04 19:15:43 CET"/>
<meta name="author" content="Ulf Ejlertsson"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Emacs Configuration</h1>

<p>Emacs does not have namespaces, so I emulate Clojure namespaces by
using this prefix <code>ue</code>
</p>



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Set personal info explicit.</a></li>
<li><a href="#sec-2">Basic configuration</a>
<ul>
<li><a href="#sec-2-1">The power of Common Lisp</a></li>
<li><a href="#sec-2-2">Misc utilites</a></li>
</ul>
</li>
<li><a href="#sec-3">Packages</a></li>
<li><a href="#sec-4">Startup options</a>
<ul>
<li><a href="#sec-4-1">Spash screen</a></li>
<li><a href="#sec-4-2">No beeping and 'y' for yes.</a></li>
<li><a href="#sec-4-3">Scroll bar, tool bar and menu bar</a></li>
<li><a href="#sec-4-4">Setting up the Emacs server</a></li>
</ul>
</li>
<li><a href="#sec-5">Paths</a></li>
<li><a href="#sec-6">Display settings</a>
<ul>
<li><a href="#sec-6-1">Frame font, title and size</a></li>
<li><a href="#sec-6-2">Lines, columns, and parenthesis</a></li>
<li><a href="#sec-6-3">Time and date</a></li>
<li><a href="#sec-6-4">Mouse and scrolling</a></li>
<li><a href="#sec-6-5">Eshell</a></li>
<li><a href="#sec-6-6">Basic text editing</a></li>
</ul>
</li>
<li><a href="#sec-7">Key mapping</a>
<ul>
<li><a href="#sec-7-1">Remap meta key on OS X</a></li>
</ul>
</li>
<li><a href="#sec-8">Org mode</a>
<ul>
<li><a href="#sec-8-1">Enable <code>LaTeX</code> in Org mode</a></li>
<li><a href="#sec-8-2">Mobile org/Dropbox</a></li>
</ul>
</li>
<li><a href="#sec-9">Deft</a></li>
<li><a href="#sec-10">Magit</a></li>
<li><a href="#sec-11">IDO</a></li>
<li><a href="#sec-12">Supercharge recentf by adding Ido mode support</a></li>
<li><a href="#sec-13">Undo tree</a></li>
<li><a href="#sec-14">Smex</a></li>
<li><a href="#sec-15">Ack</a></li>
<li><a href="#sec-16">Sunrise Commander</a></li>
<li><a href="#sec-17">Yasnippets</a></li>
<li><a href="#sec-18">Programming</a>
<ul>
<li><a href="#sec-18-1">Add mode hooks</a></li>
<li><a href="#sec-18-2">C/C++</a>
<ul>
<li><a href="#sec-18-2-1">C</a></li>
<li><a href="#sec-18-2-2">C++</a></li>
<li><a href="#sec-18-2-3">Objective C</a></li>
</ul>
</li>
<li><a href="#sec-18-3">Lisp</a>
<ul>
<li><a href="#sec-18-3-1">Common Lisp</a></li>
<li><a href="#sec-18-3-2">Racket/Scheme</a></li>
<li><a href="#sec-18-3-3">Clojure</a></li>
</ul>
</li>
<li><a href="#sec-18-4">Erlang</a></li>
<li><a href="#sec-18-5">Haskell</a>
<ul>
<li><a href="#sec-18-5-1">Agda</a></li>
</ul>
</li>
<li><a href="#sec-18-6">Ocaml</a></li>
<li><a href="#sec-18-7">Python</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Set personal info explicit.</h2>
<div class="outline-text-2" id="text-1">




<pre class="example">(setq user-full-name "Ulf Ejlertsson")
(setq user-mail-address "ulf.ejlertsson@gmail.com")
</pre>


</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Basic configuration</h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">The power of Common Lisp</h3>
<div class="outline-text-3" id="text-2-1">




<pre class="example">(require 'cl)
</pre>


</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">Misc utilites</h3>
<div class="outline-text-3" id="text-2-2">

<p>Make Emacs reload changed files if you haven't also changed them in
Emacs (<code>global-auto-revert-mode</code>).
Winner Mode is great when you depend a lot on working with Emacs windows.
</p>


<pre class="example">(global-auto-revert-mode t)
(winner-mode t)
</pre>

<p>
Enable ANSI colors for the shell by default.
</p>


<pre class="example">(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)
</pre>


<p>
Reload <code>.emacs</code> file (useful for editing .emacs itself :)
</p>


<pre class="example">(defun reload-dotemacs ()
  "Reload .emacs"
  (interactive)
  (load-file "~/.emacs.d/init.el"))
(global-set-key "\M-e" 'reload-dotemacs)
</pre>



</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Packages</h2>
<div class="outline-text-2" id="text-3">




<pre class="example">(require 'package)
(add-to-list 'package-archives
             '("marmalade" . "http://marmalade-repo.org/packages/") t)
(add-to-list 'package-archives
             '("melpa" . "http://melpa.milkbox.net/packages/") t)
(package-initialize)
</pre>


</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">Startup options</h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1">Spash screen</h3>
<div class="outline-text-3" id="text-4-1">

<p>Turn of splash screen and the message.
</p>


<pre class="example">(setq inhibit-splash-screen t
      initial-scratch-message nil)
</pre>


</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2">No beeping and 'y' for yes.</h3>
<div class="outline-text-3" id="text-4-2">




<pre class="example">(setq visible-bell t)
(fset 'yes-or-no-p 'y-or-n-p)
</pre>


</div>

</div>

<div id="outline-container-4-3" class="outline-3">
<h3 id="sec-4-3">Scroll bar, tool bar and menu bar</h3>
<div class="outline-text-3" id="text-4-3">

<p>Disable tool bar, the rest is fine on OSX
</p>


<pre class="example">(when window-system
  (tool-bar-mode -1))
</pre>


</div>

</div>

<div id="outline-container-4-4" class="outline-3">
<h3 id="sec-4-4">Setting up the Emacs server</h3>
<div class="outline-text-3" id="text-4-4">




<pre class="example">(server-start)
</pre>


</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">Paths</h2>
<div class="outline-text-2" id="text-5">

<p>Add the ~/bin to the Emacs shell path and fix the PATH variable on OS X
</p>


<pre class="example">(add-to-list 'exec-path "/Users/ulf/bin")

(defun set-exec-path-from-shell-PATH ()
  (let ((path-from-shell (shell-command-to-string "$SHELL -i -c 'echo $PATH'")))
    (setenv "PATH" path-from-shell)
    (setq exec-path (split-string path-from-shell path-separator))))

(if window-system (set-exec-path-from-shell-PATH))
</pre>


</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">Display settings</h2>
<div class="outline-text-2" id="text-6">

<p>Set the default font, and set transparency.
</p>


<pre class="example">(set-default-font "Menlo-10")
(setq mac-allow-anti-aliasing t)
(set-frame-parameter (selected-frame) 'alpha '(96 84))
(add-to-list 'default-frame-alist '(alpha 96 84))
(load-theme 'zenburn t)
</pre>


<p>
Toggle transparency.
</p>


<pre class="example">(defun toggle-transparency ()
  (interactive)
  (let ((param (cadr (frame-parameter nil 'alpha))))
    (if (and param (/= param 100))
        (set-frame-parameter nil 'alpha '(100 100))
      (set-frame-parameter nil 'alpha '(85 50)))))
(global-set-key (kbd "C-c t") 'toggle-transparency)

</pre>


<p>
Make Emacs to fully redraw the display before it processes queued input events.
</p>


<pre class="example">(setq redisplay-dont-pause t)
</pre>



</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1">Frame font, title and size</h3>
<div class="outline-text-3" id="text-6-1">




<pre class="example">(if window-system (set-frame-font "Menlo-10"))
(if window-system (setq frame-title-format
  '("" invocation-name ": "(:eval (if (buffer-file-name)
                (abbreviate-file-name (buffer-file-name))
                  "%b")))))
(if (window-system)
  (set-frame-width (selected-frame) 190))

(defun lh-get-height-max ()
  (- (/ (cadddr (display-usable-bounds))
        (frame-char-height))
     2))

(defun lh-max-frames ()
  (interactive)
  (modify-all-frames-parameters (list (cons 'height (lh-get-height-max)))))
(lh-max-frames)
</pre>


<p>
Make buffer names unique.
</p>


<pre class="example">(require 'uniquify)
(setq
  uniquify-buffer-name-style 'post-forward
  uniquify-separator ":")
</pre>


</div>

</div>

<div id="outline-container-6-2" class="outline-3">
<h3 id="sec-6-2">Lines, columns, and parenthesis</h3>
<div class="outline-text-3" id="text-6-2">

<p>Display the column number and line number i mode-line and also
highlight matching parenthesis.
</p>


<pre class="example">(column-number-mode 1)
(line-number-mode t)
(setq show-paren-delay 0
      show-paren-style 'parenthesis)
(show-paren-mode 1)
</pre>


</div>

</div>

<div id="outline-container-6-3" class="outline-3">
<h3 id="sec-6-3">Time and date</h3>
<div class="outline-text-3" id="text-6-3">

<p>Set the time format to 24hr format and display time, date and load
in the mode-line
</p>


<pre class="example">(setq display-time-day-and-date t)
(setq display-time-24hr-format t)
(display-time-mode 1)
</pre>


</div>

</div>

<div id="outline-container-6-4" class="outline-3">
<h3 id="sec-6-4">Mouse and scrolling</h3>
<div class="outline-text-3" id="text-6-4">

<p>Turn off native OSX scrolling while in terminal mode. Move the mouse
pointer out of the way when the cursor is near it.
</p>


<pre class="example">;(when window-system
;  (mouse-wheel mode t))
(set-variable 'scroll-conservatively 5)
(mouse-avoidance-mode 'cat-and-mouse)
</pre>


</div>

</div>

<div id="outline-container-6-5" class="outline-3">
<h3 id="sec-6-5">Eshell</h3>
<div class="outline-text-3" id="text-6-5">

<p>Enable Plan 9′s terminal, the Eshell smart display
</p>


<pre class="example">(require 'eshell)
(require 'em-smart)
(setq eshell-where-to-jump 'begin)
(setq eshell-review-quick-commands nil)
(setq eshell-smart-space-goes-to-end t)
</pre>


<p>
Fix terminal in emacs (M-x term) under MacOS. Use Emacs terminfo, not system terminfo.
</p>


<pre class="example">(setq system-uses-terminfo nil)
</pre>



</div>

</div>

<div id="outline-container-6-6" class="outline-3">
<h3 id="sec-6-6">Basic text editing</h3>
<div class="outline-text-3" id="text-6-6">

<p>Always do syntax highlighting and require newline and stop at the last line.
</p>


<pre class="example">(setq default-major-mode 'text-mode)
(global-font-lock-mode 1)
(setq require-final-newline t)
(setq next-line-add-newlines nil)
(setq whitespace-style '(trailing space-before-tab indentation empty space-after-tab))
;(add-hook 'before-save-hook 'delete-trailing-whitespace)
(add-hook 'after-save-hook 'delete-trailing-whitespace)
(setq fill-column 80)
(global-hl-line-mode 1)
</pre>


<p>
Also indent automagical by switching RET and LF.
</p>


<pre class="example">(setq foo (global-key-binding "\C-m"))
(global-set-key "\C-m" (global-key-binding "\C-j"))
(global-set-key "\C-j" foo)
</pre>


<p>
Hightlight marked region.
</p>


<pre class="example">(transient-mark-mode t)
</pre>


<p>
Fci-mode.
</p>


<pre class="example">(require 'fill-column-indicator)
(setq fci-rule-width 2)
(setq fci-rule-color "#5b605e")

(define-globalized-minor-mode
  global-fci-mode fci-mode (lambda () (fci-mode 1)))
(global-fci-mode 1)
</pre>


</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">Key mapping</h2>
<div class="outline-text-2" id="text-7">

<p>F1 go to man page.
</p>


<pre class="example">(global-set-key [(f1)] (lambda () (interactive) (manual-entry
(current-word) ) ) )
</pre>


<p>
F2 find file.
</p>


<pre class="example">(global-set-key [f2] 'find-file)
</pre>


<p>
F3 Help.
</p>


<pre class="example">(global-set-key [f3] 'help-command)
</pre>



</div>

<div id="outline-container-7-1" class="outline-3">
<h3 id="sec-7-1">Remap meta key on OS X</h3>
<div class="outline-text-3" id="text-7-1">




<pre class="example">(setq mac-option-modifier nil
      mac-command-modifier 'meta
      x-select-enable-clipboard t)
</pre>


</div>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8">Org mode</h2>
<div class="outline-text-2" id="text-8">




<pre class="example">(require 'ob-tangle)
(add-to-list 'auto-mode-alist '("\\.org$" . org-mode))
(define-key global-map "\C-cl" 'org-store-link)
(define-key global-map "\C-ca" 'org-agenda)
(setq org-export-with-LaTeX-fragments t)
(setq org-log-done t)
</pre>


<p>
Enable <i>babel</i> for some languages.
</p>


<pre class="example">(org-babel-do-load-languages
 'org-babel-load-languages
  '( (haskell . t)
     ;;(clojure. t)
     (sh . t)
     (python . t)
     (emacs-lisp . t)
     (C . t)
     (ocaml . t)
   ))

(setq org-src-fontify-natively t)
(setq org-src-tab-acts-natively t)
</pre>



</div>

<div id="outline-container-8-1" class="outline-3">
<h3 id="sec-8-1">Enable <code>LaTeX</code> in Org mode</h3>
<div class="outline-text-3" id="text-8-1">




<pre class="example">(require 'org-latex)
(unless (boundp 'org-export-latex-classes)
  (setq org-export-latex-classes nil))
(add-to-list 'org-export-latex-classes
             '("article"
               "\\documentclass{article}"
               ("\\section{%s}" . "\\section*{%s}")))

(setq org-export-latex-listings t)
(add-to-list 'org-export-latex-packages-alist '("" "listings"))
(add-to-list 'org-export-latex-packages-alist '("" "color"))
</pre>


</div>

</div>

<div id="outline-container-8-2" class="outline-3">
<h3 id="sec-8-2">Mobile org/Dropbox</h3>
<div class="outline-text-3" id="text-8-2">

<p>Set the location of the <code>org</code> files on the local system, and the Dropbox
root directory.
</p>


<pre class="example">(setq org-directory "~/org")
(setq org-mobile-directory "~/Dropbox/MobileOrg")
</pre>

<p>
Set the name of the file where new notes will be stored.
</p>


<pre class="example">(setq org-mobile-inbox-for-pull "~/org/inbox.org")
</pre>


</div>
</div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9">Deft</h2>
<div class="outline-text-2" id="text-9">




<pre class="example">(setq deft-directory "~/Dropbox/org/deft")
(setq deft-use-filename-as-title t)
(setq deft-extension "org")
(setq deft-text-mode 'org-mode)
</pre>

</div>

</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10">Magit</h2>
<div class="outline-text-2" id="text-10">

<p>Bind C-x g to magit-status and show magit status in full screen.
</p>


<pre class="example">(eval-after-load 'magit '(require 'magit))

(global-set-key (kbd "C-x g") 'magit-status)

(defadvice magit-status (around magit-fullscreen activate)
  (window-configuration-to-register :magit-fullscreen)
  ad-do-it
  (delete-other-windows))

(defun magit-quit-session ()
  "Restores the previous window configuration and kills the magit buffer"
  (interactive)
  (kill-buffer)
  (jump-to-register :magit-fullscreen))

;(define-key magit-status-mode-map (kbd "q") 'magit-quit-session)
</pre>


</div>

</div>

<div id="outline-container-11" class="outline-2">
<h2 id="sec-11">IDO</h2>
<div class="outline-text-2" id="text-11">

<p>Ido stands for Interactively Do Things.
<code>ido-ubiquitous</code> takes the power of ido and lets you use it almost everywhere.
<code>ido-enable-flex-matching</code> gives me fuzzy-finding and
<code>ido-use-virtual-buffers</code> lets me switch to (and re-open) closed buffers
from my buffer search.
</p>


<pre class="example">(ido-mode t)
(ido-ubiquitous t)
(setq ido-enable-flex-matching t
      ido-use-virtual-buffers t)
</pre>



</div>

</div>

<div id="outline-container-12" class="outline-2">
<h2 id="sec-12">Supercharge recentf by adding Ido mode support</h2>
<div class="outline-text-2" id="text-12">




<pre class="example">(require 'recentf)

;; get rid of `find-file-read-only' and replace it with something
;; more useful.
(global-set-key (kbd "C-x C-r") 'ido-recentf-open)

;; enable recent files mode.
(recentf-mode t)

; 50 files ought to be enough.
(setq recentf-max-saved-items 50)

(defun ido-recentf-open ()
  "Use `ido-completing-read' to \\[find-file] a recent file"
  (interactive)
  (if (find-file (ido-completing-read "Find recent file: " recentf-list))
      (message "Opening file...")
    (message "Aborting")))
</pre>


</div>

</div>

<div id="outline-container-13" class="outline-2">
<h2 id="sec-13">Undo tree</h2>
<div class="outline-text-2" id="text-13">




<pre class="example">(require 'undo-tree)
</pre>


</div>

</div>

<div id="outline-container-14" class="outline-2">
<h2 id="sec-14">Smex</h2>
<div class="outline-text-2" id="text-14">

<p>Smex is a replacement for the default behavior of <code>M-x</code> with better
history and completion.
</p>


<pre class="example">(require 'smex)
(setq smex-save-file (expand-file-name ".smex-items" user-emacs-directory))
(smex-initialize)
(global-set-key (kbd "M-x") 'smex)
(global-set-key (kbd "M-X") 'smex-major-mode-commands)
;; This is your old M-x.
(global-set-key (kbd "C-c C-c M-x") 'execute-extended-command)
</pre>


</div>

</div>

<div id="outline-container-15" class="outline-2">
<h2 id="sec-15">Ack</h2>
<div class="outline-text-2" id="text-15">

<p><code>ack</code> is an enhanced grep.
</p>


<pre class="example">(setq ack-prompt-for-directory t)
(setq ack-executable (executable-find "ack-grep"))
</pre>


</div>

</div>

<div id="outline-container-16" class="outline-2">
<h2 id="sec-16">Sunrise Commander</h2>
<div class="outline-text-2" id="text-16">




<pre class="example">(require 'sunrise-commander)
</pre>


</div>

</div>

<div id="outline-container-17" class="outline-2">
<h2 id="sec-17">Yasnippets</h2>
<div class="outline-text-2" id="text-17">

<p>Enable yasnippet
</p>


<pre class="example">(require 'yasnippet)
(yas/global-mode 1)
(yas/load-directory "~/.emacs.d/elpa/yasnippet-20121225.430/snippets")
</pre>


</div>

</div>

<div id="outline-container-18" class="outline-2">
<h2 id="sec-18">Programming</h2>
<div class="outline-text-2" id="text-18">



</div>

<div id="outline-container-18-1" class="outline-3">
<h3 id="sec-18-1">Add mode hooks</h3>
<div class="outline-text-3" id="text-18-1">




<pre class="example">(add-hook 'c-mode-hook        'flyspell-prog-mode 1)
(add-hook 'c++-mode-hook      'flyspell-prog-mode 1)
(add-hook 'makefile-mode-hook 'flyspell-prog-mode 1)
(add-hook 'python-mode-hook   'flyspell-prog-mode 1)
(add-hook 'sh-mode-hook       'flyspell-prog-mode 1)
(add-hook 'c-mode-common-hook 'turn-on-auto-fill)
(add-hook 'c++-mode-common-hook ' turn-on-auto-fill)

</pre>


</div>

</div>

<div id="outline-container-18-2" class="outline-3">
<h3 id="sec-18-2">C/C++</h3>
<div class="outline-text-3" id="text-18-2">




<pre class="example">(require 'cc-mode)
</pre>



</div>

<div id="outline-container-18-2-1" class="outline-4">
<h4 id="sec-18-2-1">C</h4>
<div class="outline-text-4" id="text-18-2-1">




<pre class="example">(add-hook 'c-mode-common-hook 'turn-on-auto-fill)

(add-hook 'c-mode-hook (function (lambda()
                  (c-set-style "bsd")
                  (setq c-basic-offset 8)
                  (setq indent-tabs-mode nil)
                  ) ) )
</pre>


</div>

</div>

<div id="outline-container-18-2-2" class="outline-4">
<h4 id="sec-18-2-2">C++</h4>
<div class="outline-text-4" id="text-18-2-2">




<pre class="example">(defun ue-c-namespace-open-indent (langelem)
  "Used with c-set-offset, indents namespace opening braces to the same indentation as the line on which the namespace declaration starts."
  (save-excursion
    (goto-char (cdr langelem))
    (let ((column (current-column)))
      (beginning-of-line)
      (skip-chars-forward " \t")
      (- (current-column) column)))
  )

(defun ue-c-namespace-indent (langelem)
  "Used with c-set-offset, indents namespace scope elements 2 spaces
from the namespace declaration iff the open brace sits on a line by itself."
  (save-excursion
    (if (progn (goto-char (cdr langelem))
               (setq column (current-column))
               (end-of-line)
               (while (and (search-backward "{" nil t)
                           (assoc 'incomment (c-guess-basic-syntax))))
               (skip-chars-backward " \t")
               (bolp))
        2)))

(add-hook 'c++-mode-common-hook ' turn-on-auto-fill)

(add-hook 'c++-mode-hook (function (lambda()
                    (c-set-style "bsd")
                        (c-set-offset 'innamespace 'ue-c-namespace-indent)
                            (c-set-offset 'namespace-open 'ue-c-namespace-open-indent)
                                (c-set-offset 'access-label -3)
                    (setq c-basic-offset 4)
                    (setq indent-tabs-mode nil)
                    ) ))
</pre>


<ul>
<li id="sec-18-2-2-1">Clang<br/>
Autocomplete with <code>clang</code>.



<pre class="example">(add-to-list 'load-path "~/.emacs.d" "~/Dev/svn/llvm/tools/clang/utils")
;;(setq load-path (cons "~/.emacs.d" "~/Dev/svn/llvm/trunk/tools/clang/utils"))
;;(setq ac-sources '(ac-source-clang-complete))
;;(setq ac-auto-start nil)
;;(define-key c-mode-base-map (kbd "M-/") 'auto-complete)
</pre>


<p>
Syntax highlighting mode for LLVM assembly files.
</p>


<pre class="example">(setq load-path
  (cons (expand-file-name "~/Dev/svn/llvm/utils/emacs") load-path))
(require 'llvm-mode)
</pre>


<p>
Syntax highlighting mode for TableGen description files (tablegen-mode.el).
</p>


<pre class="example">(setq load-path
  (cons (expand-file-name "~/Dev/svn/llvm/utils/emacs/tablegen-mode.el") load-path))
(require 'tablegen-mode)
</pre>


</li>
</ul>
</div>

</div>

<div id="outline-container-18-2-3" class="outline-4">
<h4 id="sec-18-2-3">Objective C</h4>
<div class="outline-text-4" id="text-18-2-3">




<pre class="example">(autoload 'objc-mode "cc-mode" "Objective-C Editing Mode" t)
</pre>



</div>
</div>

</div>

<div id="outline-container-18-3" class="outline-3">
<h3 id="sec-18-3">Lisp</h3>
<div class="outline-text-3" id="text-18-3">

<p>Every Lisp needs a pretty lambda character.
</p>


<pre class="example">(defun ue-pretty-lambdas ()
  "Display the word “lambda” by “λ”."
  (font-lock-add-keywords
   nil
   `(("\\(lambda\\&gt;\\)"
      (0
       (progn
         (compose-region (match-beginning 1) (match-end 1) "λ")
         'font-lock-keyword-face))))))

(add-hook 'emacs-lisp-mode-hook 'ue-pretty-lambdas)
(add-hook 'lisp-mode-hook 'ue-pretty-lambdas)
</pre>


<p>
Enable rainbow delimiters.
</p>


<pre class="example">(require 'rainbow-delimiters)
(global-rainbow-delimiters-mode)
</pre>


<p>
Enable 'hightlight-parentheses-mode'.
</p>


<pre class="example">(require 'highlight-parentheses)
</pre>


<p>
Enable <code>paredit</code>.
</p>


<pre class="example">(require 'paredit)
</pre>


<p>
Shen-mode.
</p>


<pre class="example">(require 'shen-mode)
(require 'inf-shen) ; &lt;- for interaction with an external shen process
</pre>



</div>

<div id="outline-container-18-3-1" class="outline-4">
<h4 id="sec-18-3-1">Common Lisp</h4>
<div class="outline-text-4" id="text-18-3-1">

<p>Enable <code>slime</code> for Lisp.
</p>


<pre class="example">(setq inferior-lisp-program "/Applications/Clozure\ CL.app")
     (require 'slime-autoloads)
</pre>


</div>

</div>

<div id="outline-container-18-3-2" class="outline-4">
<h4 id="sec-18-3-2">Racket/Scheme</h4>
<div class="outline-text-4" id="text-18-3-2">

<p>Enable <code>geiser</code> and <code>quack</code> for scheme/racket.
</p>


<pre class="example">(setq geiser-active-implementations '(racket))
(require 'quack)
(setq quack-global-menu-p nil)
</pre>


</div>

</div>

<div id="outline-container-18-3-3" class="outline-4">
<h4 id="sec-18-3-3">Clojure</h4>
<div class="outline-text-4" id="text-18-3-3">

<p>Enable <code>clojure-mode</code> and <code>nrepl</code>.
</p>


<pre class="example">(require 'clojure-mode)
(require 'nrepl)

(require 'ac-nrepl)
(add-hook 'nrepl-mode-hook 'ac-nrepl-setup)
(add-hook 'nrepl-interaction-mode-hook 'ac-nrepl-setup)
(eval-after-load "auto-complete"
  '(add-to-list 'ac-modes 'nrepl-mode))

(defun set-auto-complete-as-completion-at-point-function ()
  (setq completion-at-point-functions '(auto-complete)))
(add-hook 'auto-complete-mode-hook 'set-auto-complete-as-completion-at-point-function)

(add-hook 'nrepl-mode-hook 'set-auto-complete-as-completion-at-point-function)
(add-hook 'nrepl-interaction-mode-hook 'set-auto-complete-as-completion-at-point-function)

(define-key nrepl-interaction-mode-map (kbd "C-c C-d") 'ac-nrepl-popup-doc)

(add-hook 'clojure-mode-hook
          (lambda ()
            (setq inferior-lisp-program "lein repl")))

(add-hook 'clojure-mode-hook
          (lambda ()
            (paraedit-mode +1)))
</pre>

<p>
Enable <code>auto-fill</code> mode.
</p>


<pre class="example">(add-hook 'clojure-mode-hook 'auto-fill-mode)
</pre>


<p>
Due to syntax differences with other Lisp-like languages, Clojure is
better suited to a <code>fill-column</code> value of 80.
</p>


<pre class="example">(add-hook 'clojure-mode-hook (lambda () (set-fill-column 80)(fci-mode)))
</pre>


<p>
Clojure needs some help with indenting.
</p>


<pre class="example">(put 'match 'clojure-indent-function 1)
(put 'if 'clojure-indent-function 0) ;; Really??
</pre>


<p>
Enable <code>eldoc</code> in clojure buffers.
</p>


<pre class="example">(add-hook 'nrepl-interaction-mode-hook
  'nrepl-turn-on-eldoc-mode)
</pre>


<p>
Stop the error buffer from popping up while working in the <code>REPL</code> buffer.
</p>


<pre class="example">(setq nrepl-popup-stacktraces nil)
</pre>


<p>
Make <code>C-c C-z</code> switch to the <code>*nrepl*</code> buffer in the current window.
</p>


<pre class="example">(add-to-list 'same-window-buffer-names "*nrepl*")
</pre>


<p>
Turn on the <code>paredit</code> for clojure.
</p>


<pre class="example">(defun turn-on-paredit () (paredit-mode 1))
(add-hook 'clojure-mode-hook 'turn-on-paredit)
(add-hook 'nrepl-mode-hook 'paredit-mode)
</pre>


<p>
Add some bling.
</p>


<pre class="example">(eval-after-load 'clojure-mode
  '(font-lock-add-keywords
    'clojure-mode `(("(\\(fn\\)[\[[:space:]]"
                     (0 (progn (compose-region (match-beginning 1)
                                               (match-end 1) "λ")
                               nil))))))

(eval-after-load 'clojure-mode
  '(font-lock-add-keywords
    'clojure-mode `(("\\(#\\)("
                     (0 (progn (compose-region (match-beginning 1)
                                               (match-end 1) "ƒ")
                               nil))))))

(eval-after-load 'clojure-mode
  '(font-lock-add-keywords
    'clojure-mode `(("\\(#\\){"
                     (0 (progn (compose-region (match-beginning 1)
                                               (match-end 1) "∈")
                               nil))))))
</pre>


</div>
</div>

</div>

<div id="outline-container-18-4" class="outline-3">
<h3 id="sec-18-4">Erlang</h3>
<div class="outline-text-3" id="text-18-4">

<p>Setup Erlang mode.
</p>


<pre class="example">(add-to-list
   'load-path
       (car (file-expand-wildcards "/usr/local/lib/erlang/lib/tools-*/emacs")))
(setq erlang-root-dir "/usr/local/lib/erlang")
(setq exec-path (cons "/usr/local/lib/erlang/bin" exec-path))
(require 'erlang-start)
(require 'erlang-flymake)
(defvar inferior-erlang-prompt-timeout t)

(add-to-list 'auto-mode-alist '("\\.erl?$" . erlang-mode))
(add-to-list 'auto-mode-alist '("\\.hrl?$" . erlang-mode))

(add-to-list 'load-path "/usr/local/share/distel/elisp")
(require 'distel)
(distel-setup)

;; FlyMake for Erlang.
(require 'flymake)
(setq flymake-gui-warnings-enabled nil)
(setq flymake-log-level 3)
(erlang-flymake-only-on-save)

;(require 'flymake)
(defun flymake-erlang-init ()
  (let* ((temp-file (flymake-init-create-temp-buffer-copy
                     'flymake-create-temp-inplace))
         (local-file (file-relative-name temp-file
                (file-name-directory buffer-file-name))))
    (list "~/bin/eflymake" (list local-file))))

(add-to-list 'flymake-allowed-file-name-masks '("\\.erl\\'" flymake-erlang-init))

(defun ue-erlang-mode-hook ()
        ;; when starting an Erlang shell in Emacs, default in the node name
        (setq inferior-erlang-machine-options '("-sname" "emacs"))
        ;; add Erlang functions to an imenu menu
        (imenu-add-to-menubar "imenu")
        ;; customize keys
        (local-set-key [return] 'newline-and-indent)
        (flymake-mode 1)
        )
;; Some Erlang customizations
(add-hook 'erlang-mode-hook 'ue-erlang-mode-hook)



(defun ue-erlang-mode-hook ()
(flymake-mode 1))

(add-hook 'erlang-mode-hook 'ue-erlang-mode-hook)
</pre>



</div>

</div>

<div id="outline-container-18-5" class="outline-3">
<h3 id="sec-18-5">Haskell</h3>
<div class="outline-text-3" id="text-18-5">




<pre class="example">(require 'haskell-mode)
(add-hook 'haskell-mode-hook 'turn-on-haskell-doc-mode)
(add-hook 'haskell-mode-hook 'turn-on-haskell-indent)
(add-hook 'haskell-mode-hook 'font-lock-mode)

(add-hook 'haskell-mode-hook 'turn-on-haskell-font-lock)
(setq haskell-font-lock-symbols t)

 (autoload 'ghc-init "ghc" nil t)
 (add-hook 'haskell-mode-hook
           (lambda ()
               (ghc-init)
               (flymake-mode)
               (require 'auto-complete-config)
               (auto-complete-mode t)
               (add-to-list 'ac-sources 'ac-source-ghc-mod)))
;; haskell-mode hooks
(add-hook 'haskell-mode-hook 'capitalized-words-mode)
(add-hook 'haskell-mode-hook 'turn-on-haskell-decl-scan)
(defun pretty-lambdas-haskell ()
  (font-lock-add-keywords
   nil `((,(concat "\\(" (regexp-quote "\\") "\\)")
          (0 (progn (compose-region (match-beginning 1) (match-end 1)
                                    ,(make-char 'greek-iso8859-7 107))
                    nil))))))

(add-hook 'haskell-mode-hook (lambda () (ghc-init) (flymake-mode)))


(add-hook 'haskell-mode-hook 'pretty-lambdas-haskell)

(eval-after-load 'haskell-font-lock
 '(setq haskell-font-lock-symbols-alist
        (delq nil
              (mapcar (lambda (rewrite)
                        (if (member (car rewrite) '("-&gt;" "&lt;-"))
                            nil rewrite))
                      haskell-font-lock-symbols-alist))))
</pre>



</div>

<div id="outline-container-18-5-1" class="outline-4">
<h4 id="sec-18-5-1">Agda</h4>
<div class="outline-text-4" id="text-18-5-1">




<pre class="example">(load-file (let ((coding-system-for-read 'utf-8))
                (shell-command-to-string "agda-mode locate")))
</pre>


</div>
</div>

</div>

<div id="outline-container-18-6" class="outline-3">
<h3 id="sec-18-6">Ocaml</h3>
<div class="outline-text-3" id="text-18-6">




<pre class="example">(add-to-list 'auto-mode-alist '("\\.ml[iylp]?" . tuareg-mode))
(autoload 'tuareg-mode "tuareg" "Major mode for editing OCaml code" t)
(autoload 'tuareg-run-ocaml "tuareg" "Run an inferior OCaml process." t)
(autoload 'ocamldebug "ocamldebug" "Run the OCaml debugger" t)
(setq tuareg-font-lock-symbols t)

;; Indent `=' like a standard keyword.
(setq tuareg-lazy-= t)
;; Indent [({ like standard keywords.
(setq tuareg-lazy-paren t)
;; No indentation after `in' keywords.
(setq tuareg-in-indent 0)

(add-hook 'tuareg-mode-hook
          ;; Turn on auto-fill minor mode.
          (lambda () (auto-fill-mode 1)))
</pre>


</div>

</div>

<div id="outline-container-18-7" class="outline-3">
<h3 id="sec-18-7">Python</h3>
<div class="outline-text-3" id="text-18-7">




<pre class="example">(require 'python-mode)
(require 'python-pep8)
(require 'python-pylint)
</pre>

</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2013-02-04 19:15:43 CET</p>
<p class="author">Author: Ulf Ejlertsson</p>
<p class="creator">Org version 7.8.11 with Emacs version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
